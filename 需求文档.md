
# 框架合同管理功能需求文档

> 文档版本：v1  
> 编写时间：2025-07-09  
> 编写人：ChatGPT（代产品经理）  
> 所属模块：合同管理  

---

## 一、功能概述

本模块支持采购人员在后台系统中创建、查看和管理与供应商签订的**框架合同**。功能包含以下三部分：

1. 合同创建
2. 合同列表
3. 合同详情

---

## 二、合同创建

### 2.1 页面入口

- 菜单路径：合同管理 → 合同制作
- 点击“合同制作”进入合同创建页

### 2.2 页面布局说明

- 页面顶部：显示“合同创建”标题
- 页面主体分为三个区域：
  - 基础信息表单（左对齐）
  - 合同文件上传区（右侧或下方）
  - 合同物资明细列表（位于表单下方）
- 页面底部：右下角显示“提交”按钮
- 原型图片
  - 合同列表：https://ossmall.youzhicai.com/mall/202507241827268.png
  - 合同制作：https://ossmall.youzhicai.com/mall/202507241827265.png
  - 添加物资：https://ossmall.youzhicai.com/mall/202507241827267.png
  - 合同详情：https://ossmall.youzhicai.com/mall/202507241827269.png

### 2.3 合同基础信息字段

| 字段名         | 类型     | 是否必填 | 控件类型 | 说明 |
|----------------|----------|----------|----------|------|
| 合同名称       | 字符串   | 是       | 输入框   | 不超过50字 |
| 合同编号       | 系统生成 | 是       | -        | 自动生成规则：`PC+年月日+5位不重复随机数` |
| 申请人         | 系统生成 | 是       | -        | 当前登录用户 |
| 合同经办人     | 字符串   | 是       | 输入框   | 不超过10字 |
| 采购单位       | 下拉框   | 是       | 选择公司 | 模拟数据：["合肥总部", "上海分公司", "广州子公司"] |
| 供应商         | 下拉框   | 是       | 选择项   | 模拟数据：["安徽志远科技有限公司", "北京天和电器", "山东亿通商贸"] |
| 合同开始日期   | 日期     | 否       | 日期控件 | 精确到日 |
| 合同结束日期   | 日期     | 否       | 日期控件 | 结束日期须晚于开始日期 |
| 线下合同编号   | 字符串   | 否       | 输入框   | 不超过50字 |
| 签订方式       | 枚举     | 否       | 单选框   | 模拟数据：["线下签订"] |
| 合同备注       | 字符串   | 否       | 文本域   | 不超过200字 |

### 2.4 附件上传

- 按钮位置：在基础信息表单右上角显示“上传附件”按钮
- 限制说明：
  - 文件类型：仅支持 PDF
  - 文件大小：不超过 200MB
  - 上传数量：仅允许上传 1 个文件，重复上传时覆盖原文件

### 2.5 物资明细添加

- 按钮位置：合同文件上传区域下方，显示“单个添加物资”按钮
- 弹窗中录入物资信息后添加至下方表格中

#### 物资字段说明：

| 字段         | 是否必填 | 类型     | 限制说明             |
|--------------|----------|----------|----------------------|
| 物资名称     | 是       | 字符串   | ≤ 50 字，可重复      |
| 物资编码     | 是       | 字符串   | ≤ 50 字，可重复      |
| 型号         | 否       | 字符串   | ≤ 50 字，可重复      |
| 品牌         | 否       | 字符串   | ≤ 10 字，可重复      |
| 计量单位     | 否       | 下拉选项 | 模拟数据：["台", "套", "件", "个"] |
| 数量         | 是       | 整数     | 仅允许正整数         |
| 采购单价     | 是       | 小数     | 两位小数以内         |
| 是否含税     | 是       | 单选     | 是 / 否              |
| 税率         | 条件必填 | 整数     | 仅当“是否含税”为“是”时填写 |
| 备注         | 否       | 字符串   | ≤ 50 字              |

### 2.6 提交操作

- 提交按钮位置：页面底部右下角，按钮文案：“提交”
- 成功后跳转至“合同列表”页面

---

## 三、合同列表

### 3.1 页面入口

- 菜单路径：合同管理 → 合同列表（默认页）

### 3.2 筛选条件

| 条件名称         | 类型     | 说明                       |
|------------------|----------|----------------------------|
| 合同名称/编号    | 文本输入 | 模糊查询（合同名称、编号） |
| 线下合同编号     | 文本输入 | 模糊查询                   |
| 合同经办人       | 文本输入 | 模糊查询                   |
| 采购单位         | 下拉选择 | 模拟数据同上              |
| 供应商           | 下拉选择 | 模拟数据同上              |
| 签订日期         | 日期区间 | 可选开始/结束日期任一侧     |

### 3.3 合同列表展示字段

| 字段             | 说明                 |
|------------------|----------------------|
| 合同名称/编号    | 显示为一列           |
| 供应商名称       |                      |
| 采购单位         |                      |
| 经办人           |                      |
| 签订方式         |                      |
| 操作             | 查看详情按钮         |

- 默认排序：按合同创建时间倒序排列

---

## 四、合同详情

### 4.1 页面入口

- 在合同列表点击“详情”按钮进入

### 4.2 展示内容

#### 合同基础信息：

- 合同名称、编号、申请人、经办人、采购单位、供应商、起止日期、线下编号、签订方式、备注

#### 合同附件：

- 显示 PDF 文件下载链接

#### 合同物资明细（不分页）：

| 字段         | 说明           |
|--------------|----------------|
| 物资名称     |                |
| 物资编码     |                |
| 品牌         |                |
| 型号         |                |
| 采购单价     |                |
| 数量         |                |
| 是否含税     |                |
| 备注         |                |

---

## 五、权限与校验说明

| 功能             | 角色权限说明      |
|------------------|-------------------|
| 合同创建         | 采购人员可见      |
| 合同经办人填写   | 仅限创建人手动输入 |
| 数据校验         | 所有字段校验参照上文各字段限制 |
